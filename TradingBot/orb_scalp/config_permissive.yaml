# Permissive config for diagnostic mode - to verify system works
diagnostic_mode: true

symbols: ["BTCUSD", "ETHUSD", "SOLUSD", "BNBUSD"]

session:
  hour_start: 0  # All day during debugging
  hour_end: 24
  trade_hours_utc: [0, 24]  # All day in diagnostic mode
  open_range_min: 15

warmup_bars: 60  # Reduced from 200

gaps:
  max_minutes_orb: 5
  max_minutes_scalp: 30  # More lenient for scalps

orb:
  min_or_bars: 10  # Minimum bars needed for opening range
  rsi_long_min: 55  # Keep for now
  rsi_short_max: 45
  vol_spike_mult: 1.03  # Loosened from 1.05
  stop_atr_mult: 0.8
  pct_stop_floor: 0.005
  trail_atr_mult: 0.7
  timeout_hours: 6
  max_retries_per_side: 2
  risk_frac: 0.003  # Small risk until equity bug fixed

scalp:
  ema_fast: 5
  ema_slow: 8
  rsi_exhaust_long: 75
  rsi_exhaust_short: 25
  rv_pctile_floor: 5  # Use 5th percentile, computed over 7-day window
  pct_stop_floor: 0.005
  atr_mult_stop: 0.6
  tp_pct: 0.012
  trail_pct: 0.004
  max_scalps_per_day_all_pairs: 8
  no_chase: 0.006  # 0.6% - crypto routinely jumps >0.35% in a minute
  risk_frac: 0.003  # Small risk until equity bug fixed

risk:
  risk_orb: 0.003  # Keep risk small until equity bug is fixed
  risk_scalp: 0.003
  max_daily_dd: 0.03
  max_concurrent_positions: 4
  max_positions_per_symbol: 2
  max_notional_exposure_mult: 1.2

fees_slip:
  maker: 0.0002
  taker: 0.0005
  slippage_pct_base: 0.0001
  vol_scaled_slippage: true
  fill_timeout_sec: 3
  max_extra_bps: 2

backtest:
  walk_forward:
    train_days: 30
    test_days: 15
    step_days: 15
  stress:
    fee_mult: [1.0, 1.5]
    slippage_mult: [1.0, 2.0, 3.0]
    entry_delay_bars: [0, 1]
    shock_gap_pct: 0.005
    shock_prob: 0.01

seed: 1337

